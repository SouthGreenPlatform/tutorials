<!doctype html>
<!--[if lt IE 7]><html class="no-js ie6 oldie" lang="ja"><![endif]-->
<!--[if IE 7]>   <html class="no-js ie7 oldie" lang="ja"><![endif]-->
<!--[if IE 8]>   <html class="no-js ie8 oldie" lang="ja"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ja"><!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Install</title>
    <meta name="description" content="Bioinformatics tutorials, Linux, HPC, NGS, NGS workflow manager, TOGGLe, galaxy">
    <meta name="description" content="Install page">
    
    <meta name="author" content=" SÃ©bastien RAVEL -- sebastien.ravel@cirad.fr">
    
    <meta name="author" content=" Christine Tranchant-Dubreuil -- christine.tranchant@ird.fr">
    

    <meta name="viewport" content="width=device-width,initial-scale=1">

    <link rel="stylesheet" type="text/css" media="screen" href="http://toggle.ird.fr:4000/css/bootstrap.min.css" >
    <link rel="stylesheet" type="text/css" media="screen" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="http://toggle.ird.fr:4000/css/monokai.css">
    <link rel="stylesheet" type="text/css" media="screen" href="http://toggle.ird.fr:4000/css/stylesheet.css">
    <link rel="icon" href="http://toggle.ird.fr:4000/images/southgreenlong.png">
</head>
 <body>

      <!-- Static navbar -->
      <nav class="navbar navbar-default navbar-inverse navbar-static-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand visible-xs" href="#"></a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
			<ul id="menu">
				<li><a href="http://toggle.ird.fr:4000/">Home</a></li>
				<li><a href="#">Linux</a><span class="caret" ></span>
					<ul id="child">
						<li><a href="http://toggle.ird.fr:4000/linux/">Linux for dummies</a></li>
						<li><a href="http://toggle.ird.fr:4000/linuxJedi/">Linux for Jedi</a></li>
					</ul>
				</li>
				<li><a href="http://toggle.ird.fr:4000/perl/">Perl</a></li>
                                <li><a href="http://toggle.ird.fr:4000/R/">R</a></li>
				<li><a href="#">HPC</a><span class="caret" ></span>
					<ul>
						<li><a href="http://toggle.ird.fr:4000/todo/">hpc IRD</a></li>
						<li><a href="http://toggle.ird.fr:4000/todo/">hpc CIRAD</a></li>
					</ul>
				</li><li><a href="#">Workflow</a><span class="caret" ></span>
					<ul>
						<li><a href="http://toggle.ird.fr:4000/toggle/">TOGGLe</a></li>
						<li><a href="http://toggle.ird.fr:4000/todo/">Galaxy</a></li>
						<li><a href="http://toggle.ird.fr:4000/galaxyToggle/">Galaxy & TOGGLe</a></li>
					</ul>
				</li>
                                <li><a href="#">NGS</a><span class="caret" ></span>
                                        <ul>
                                                <li><a href="http://toggle.ird.fr:4000/todo/">GBS</a></li>
                                                <li><a href="http://toggle.ird.fr:4000/todo/">Transcriptomic</a></li>
                                        </ul>
                                </li>
				<li><a href="#">Schools</a><span class="caret" ></span>
                                        <ul>
                                                <li><a href="http://toggle.ird.fr:4000/todo/">Musa genome</a></li>
                                                <li><a href="http://toggle.ird.fr:4000/todo/">France</a></li>
                                                <li><a href="http://toggle.ird.fr:4000/todo/">International</a></li>
                                        </ul>
                                </li>
				<li><a href="http://toggle.ird.fr:4000/contact/">About Us</a></li>
				<li><a id="forkme_banner" href="https://github.com/SouthGreenPlatform/trainings/">GitHub</a></li>
			</ul>
          </div>
        </div>
      </nav>
      <!--/.nav-collapse -->
    <!-- Header -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <div class="header"><img class="img-responsive" width="25%" src="http://toggle.ird.fr:4000/images/southgreenlong.png" alt="South Green Logo" /></div>
          <h2 id="project_tagline">South Green Trainings Web Site</h2>
        </header>
    </div>

<body>
<div id="main_content_wrap" class="outer">
	 <section id="main_content" class="inner">
<h2 id="requirements">Requirements</h2>

<h4 id="perl-minimal-version-516">Perl minimal version 5.16</h4>

<ul>
  <li><a href="http://search.cpan.org/~dagolden/Capture-Tiny-0.30/lib/Capture/Tiny.pm">Capture::Tiny</a></li>
  <li><a href="http://search.cpan.org/~davieira/Data_Translate-0.3/Translate.pm">Data::Translate</a></li>
  <li><a href="http://search.cpan.org/~smueller/Data-Dumper-2.154/Dumper.pm">Data::Dumper</a></li>
  <li><a href="http://search.cpan.org/~mytram/Getopt-ArgParse-1.0.2/lib/Getopt/ArgParse.pm">Getopt::ArgParse</a></li>
  <li><a href="http://search.cpan.org/~jkeenan/List-Compare-0.53/lib/List/Compare.pm">List::Compare</a></li>
  <li><a href="https://metacpan.org/pod/Switch">Switch</a></li>
  <li><a href="http://search.cpan.org/~exodist/Test-Simple-1.001014/lib/Test/More.pm">Test::More</a></li>
  <li><a href="http://search.cpan.org/~rjbs/Test-Deep-0.119/lib/Test/Deep.pm">Test::Deep</a></li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo </span>cpan install Capture::Tiny Data::Translate Data::Dumper Getopt::ArgParse List::Compare Switch Test::More Test::Deep</code></pre></figure>

<h2 id="required-bioinformatics-tools">Required Bioinformatics tools</h2>

<!-- Button trigger modal -->
<p><button class="btn btn-home" data-toggle="modal" data-target="#modal-lg">
  Required Bioinfomatics tools
</button></p>

<h2 id="install-toggle">Install Toggle</h2>

<p>There are 3 ways to obtain TOGGLE. We recommend the first one for an install in a cluster.</p>

<ol>
  <li><a href="#github">INSTALL FROM GitHub REPOSITORY</a></li>
  <li><a href="#docker">INSTALL FROM THE DOCKER IMAGE</a></li>
  <li><a href="#script">INSTALL FROM THE AUTOMATIC SCRIPT</a></li>
</ol>

<h2 id="install-from-github-repository"><a name="github"></a>INSTALL FROM GitHub REPOSITORY</h2>

<ul>
  <li>
    <p>Create the directory TOGGLE where you want to install TOGGLE and go into this directory</p>
  </li>
  <li>
    <p>Get the TOGGLE code Clone the git</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git clone https://github.com/SouthGreenPlatform/TOGGLE.git .</code></pre></figure>

<ul>
  <li>Add the Module path to the PERL5LIB environment variable</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">export </span><span class="nv">PERL5LIB</span><span class="o">=</span><span class="nv">$PERL5LIB</span>:/pathToToggle/modules</code></pre></figure>

<ul>
  <li>In the same way add the TOGGLE directory to the PATH environment variable</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/pathToToggle</code></pre></figure>

<p>Rq : you can add this to the ~/.bashrc to make it always available when you log-in.</p>

<ul>
  <li>Change the permission of the perl files in the directory TOGGLE</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> /pathToToggle
chmod 755 <span class="k">*</span>pl</code></pre></figure>

<ul>
  <li>Modify the file /pathToToggle/modules/localConfig.pm</li>
  <li>
    <p>Modify the shebang of perl in the begining of the script /pathToToggle/toggleGenerator.pl and onTheFly/startBlock.txt</p>
  </li>
  <li>Test the pipeline with the test data</li>
</ul>

<p>Modify the path of adaptator file in the file SNPdiscoveryPaired.config.txt</p>

<figure class="highlight"><pre><code class="language-perl" data-lang="perl"><span class="nv">$cutadapt</span>
<span class="o">-</span><span class="nv">O</span><span class="o">=</span><span class="mi">10</span>
<span class="o">-</span><span class="nv">m</span><span class="o">=</span><span class="mi">35</span>
<span class="o">-</span><span class="sx">q=20
--overlap=</span><span class="mi">7</span>
<span class="o">-</span><span class="nv">u</span><span class="o">=</span><span class="mi">8</span>
<span class="c1">#If you have a specific adaptator file, please indicate here.</span>
<span class="o">-</span><span class="nv">adaptatorFile</span><span class="o">=</span><span class="sr">/path/</span><span class="nv">to</span><span class="o">/</span><span class="nv">adaptator</span><span class="o">.</span><span class="nv">txt</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$cd</span> /pathToToggle
toggleGenerator.pl <span class="nt">-c</span> SNPdiscoveryPaired.config.txt <span class="nt">-d</span> data/testData/fastq/pairedTwoIndividusIrigin/ <span class="nt">-r</span> data/Bank/referenceIrigin.fasta <span class="nt">-o</span> toggleout2/</code></pre></figure>

<ul>
  <li>Check the good running
    <blockquote>
      <blockquote>
        <ul>
          <li>No error message</li>
          <li>toggleOUTPUT has been created in the /tmp folder</li>
          <li>the data generated are good</li>
        </ul>
      </blockquote>
    </blockquote>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">tail /tmp/toggleOUTPUT/finalResults/GATKVARIANTFILTRATION.vcf

TO BE CHANGED FOR  THE FINAL VCF USING IRIGIN</code></pre></figure>

<ul>
  <li>Test the RNASeq pipeline with the test data</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$cd</span> /pathToToggle
toggleGenerator.pl <span class="nt">-c</span> RNASeq.config.txt <span class="nt">-d</span> data/testData/rnaseq/pairedOneIndividu/ <span class="nt">-r</span> data/Bank/referenceRnaseq.fa <span class="nt">-g</span> data/Bank/referenceRnaseq.gff3 <span class="nt">-o</span> toggleout/</code></pre></figure>

<ul>
  <li>Check the good running
    <blockquote>
      <blockquote>
        <ul>
          <li>No error message</li>
          <li>the directory toggleout has been created</li>
          <li>the directory toggleout/output contain all the results</li>
          <li>the file toggleout/finalResults/RNASeq.accepted_hits.HTSEQCOUNT.txt has been created</li>
          <li>the data generated are good</li>
        </ul>
      </blockquote>
    </blockquote>
  </li>
</ul>

<h2 id="install-from-the-docker-image"><a name="docker"></a>INSTALL FROM THE DOCKER IMAGE</h2>

<p>A Docker image based on Ubuntu 14.04 is available at http://bioinfo-web.mpl.ird.fr/toggle/toggle.tgz</p>

<p>If Docker is installed on your system, you can use this image:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$wget</span> http://bioinfo-web.mpl.ird.fr/toggle/toggle.tgz
<span class="nv">$cat</span> toggle.tgz | docker import - toggle
<span class="nv">$docker</span> run <span class="nt">-i</span> <span class="nt">-t</span> toggle /bin/bash</code></pre></figure>

<p>You can then download your data in the container (or attach a network/local drive within). TOGGLE can be launch as for a GitHub installation.</p>

<h2 id="install-from-the-automatic-script"><a name="script"></a>INSTALL FROM THE AUTOMATIC SCRIPT</h2>

<p>This script is dedicated for an installation in the user space (no admin rights required).</p>

<p>Just download it, launch it and follow the instructions.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$wget</span> http://bioinfo-web.mpl.ird.fr/toggle/TOGGLEinstall.sh
<span class="nv">$bash</span> TOGGLEinstall.sh</code></pre></figure>

<p>Then you can launch the different scripts in the TOGGLE folder</p>

<!--
<aside>
	<h3>aside</h3>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sodales urna non odio egestas tempor. Nunc vel vehicula ante. Etiam bibendum iaculis libero, eget molestie nisl pharetra in. In semper consequat est, eu porta velit mollis nec. Curabitur posuere enim eget turpis feugiat tempor. Etiam ullamcorper lorem dapibus velit suscipit ultrices.</p>
</aside>-->

	</div> <!-- #main -->
</div> <!-- #main-container -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://toggle.ird.fr:4000/js/jquery-1.11.3.min.js"></script>
    <script src="http://toggle.ird.fr:4000/js/bootstrap.min.js"></script>
    <script src="http://toggle.ird.fr:4000/js/homepage.js"></script>
    <script src="http://toggle.ird.fr:4000/js/libs/modernizr-2.0.6.min.js"></script>

</script>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <div id="footer">
			<div class="logo-div" class="clearfix">
				<a class="logo" href="http://www.ird.fr">
					<img class="img-logo" src="http://toggle.ird.fr:4000/images/logo_ird.png" alt="IRD Logo"  width="" />
				</a>

				<a class="logo" href="http://www.cirad.fr">
					<img class="img-logo" src="http://toggle.ird.fr:4000/images/logo-cirad.png" alt="CIRAD Logo"   width="" />
				</a>

				<a class="logo" href="http://www.inra.fr">
					<img class="img-logo" src="http://toggle.ird.fr:4000/images/logo_inra.png" alt="INRA Logo"   width=""/>
				</a>

				<a class="logo" href="https://www.bioversityinternational.org/">
					<img class="img-logo" src="http://toggle.ird.fr:4000/images/logo_bioversity.png" alt="Bioversity Logo"   width=""/>
				</a>

				<a class="logo" href="https://www.supagro.fr/">
					<img class="img-logo" src="http://toggle.ird.fr:4000/images/logo_supagro.png" alt="SupAgro Logo"   width=""/>
				</a>
				
				<a class="logo" href="http://www.southgreen.fr">
					<img class="img-logo" src="http://toggle.ird.fr:4000/images/southgreenlong.png" alt="South Green Logo"   width=""/>
				</a>

			</div>
		</div>

		<div class="footer_txt">
			<p>The contents of this website are &copy;&nbsp;2018 under the terms of the Licencied under
				<a href="http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html">CeCill-C</a>
				 and <a href="/blob/master/LICENSE">GPLv3</a>.
			</p>
		</div>
      </footer>
    </div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.1.min.js"><\/script>')</script>

<!--<script src="http://toggle.ird.fr:4000/js/script.js"></script>
<script>
	var _gaq=[['_setAccount',''],['_trackPageview']];
	(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
	g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
	s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<!--[if lt IE 7 ]>
	<script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.2/CFInstall.min.js"></script>
	<script>window.attachEvent("onload",function(){CFInstall.check({mode:"overlay"})})</script>
<![endif]-->

</body>
</html>
